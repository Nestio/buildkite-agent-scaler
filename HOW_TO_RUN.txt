Step1: Update main.go line 16-23:

        asgName           = flag.String("asg-name", "ci-docker-medium-agent", "The name of the autoscaling group")
        agentsPerInstance = flag.Int("agents-per-instance", 1, "The number of agents per instance")
        cwMetrics         = flag.Bool("cloudwatch-metrics", false, "Whether to publish cloudwatch metrics")
        ssmTokenKey       = flag.String("agent-token-ssm-key", "", "The AWS SSM Parameter Store key for the agent token")

        // buildkite params
        buildkiteQueue      = flag.String("queue", "docker-medium", "The queue to watch in the metrics")
        buildkiteAgentToken = flag.String("agent-token", "", "A buildkite agent registration token")

Step 2: Run commands:

    GOOS=linux GOARCH=amd64 go build -o bootstrap main.go

    zip buildkite-medium-agent-scaler_v1_9_0.zip bootstrap

Step 3: Upload to AWS PRD S3 - Bucker - nestio-builds